[tasks.pp-elf]
description = "Install pessimistic proof ELF file"
run_task = { name = [
    "pp-elf-build",
    "pp-update-cycle-tracker",
] }

[tasks.pp-elf-build]
description = "Compile pessimistic proof ELF file"
env = { AGGLAYER_ELF_BUILD = "update" }
command = "cargo"
args = [
    "build",
    "-vv",
    "-ppessimistic-proof",
]

[tasks.pp-update-cycle-tracker]
description = "Update cycle tracker snapshosts for PP"
command = "cargo"
env = { INSTA_UPDATE = "always" }
args = [
    "test",
    "-ppessimistic-proof-test-suite",
    "--test=cycle-tracker",
]
