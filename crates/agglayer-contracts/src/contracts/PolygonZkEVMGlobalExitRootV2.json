{
  "_format": "hh-sol-artifact-1",
  "contractName": "PolygonZkEVMGlobalExitRootV2",
  "sourceName": "contracts/v2/PolygonZkEVMGlobalExitRootV2.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_rollupManager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_bridgeAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "GlobalExitRootAlreadySet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GlobalExitRootNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MerkleTreeFull",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyAllowedContracts",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyGlobalExitRootRemover",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyGlobalExitRootUpdater",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "leafCount",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "currentL1InfoRoot",
          "type": "bytes32"
        }
      ],
      "name": "InitL1InfoRootMap",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "version",
          "type": "uint8"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "mainnetExitRoot",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "rollupExitRoot",
          "type": "bytes32"
        }
      ],
      "name": "UpdateL1InfoTree",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "currentL1InfoRoot",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint32",
          "name": "leafCount",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "blockhash",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "minTimestamp",
          "type": "uint64"
        }
      ],
      "name": "UpdateL1InfoTreeV2",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "bridgeAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "leafHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32[32]",
          "name": "smtProof",
          "type": "bytes32[32]"
        },
        {
          "internalType": "uint32",
          "name": "index",
          "type": "uint32"
        }
      ],
      "name": "calculateRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLastGlobalExitRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "newGlobalExitRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "lastBlockHash",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "timestamp",
          "type": "uint64"
        }
      ],
      "name": "getLeafValue",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "globalExitRootMap",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "leafCount",
          "type": "uint32"
        }
      ],
      "name": "l1InfoRootMap",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "l1InfoRoot",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastMainnetExitRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastRollupExitRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "rollupManager",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "newRoot",
          "type": "bytes32"
        }
      ],
      "name": "updateExitRoot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "leafHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32[32]",
          "name": "smtProof",
          "type": "bytes32[32]"
        },
        {
          "internalType": "uint32",
          "name": "index",
          "type": "uint32"
        },
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        }
      ],
      "name": "verifyMerkleProof",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561000f575f5ffd5b50604051610ec0380380610ec083398101604081905261002e9161012b565b6001600160a01b0380831660a0528116608052610049610050565b505061015c565b602e54610100900460ff16156100bc5760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b602e5460ff908116101561010e57602e805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b80516001600160a01b0381168114610126575f5ffd5b919050565b5f5f6040838503121561013c575f5ffd5b61014583610110565b915061015360208401610110565b90509250929050565b60805160a051610d3561018b5f395f818161015701526102f701525f818161022e01526102ab0152610d355ff3fe608060405234801561000f575f5ffd5b50600436106100e5575f3560e01c80635ca1e1651161008857806383f244031161006357806383f2440314610216578063a3c573eb14610229578063ef4eeb3514610250578063fb5708341461026f575f5ffd5b80635ca1e1651461019e5780635d810501146101a65780638129fc1c1461020e575f5ffd5b8063319cf735116100c3578063319cf7351461012c57806333d6247d146101355780633ed691ef1461014a57806349b7b80214610152575f5ffd5b806301fd9044146100e9578063257b3632146101045780632dfdf0b514610123575b5f5ffd5b6100f15f5481565b6040519081526020015b60405180910390f35b6100f16101123660046109df565b60026020525f908152604090205481565b6100f160235481565b6100f160015481565b6101486101433660046109df565b610292565b005b6100f16104b8565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100fb565b6100f16104cb565b6100f16101b43660046109f6565b604080516020808201959095528082019390935260c09190911b7fffffffffffffffff0000000000000000000000000000000000000000000000001660608301528051604881840301815260689092019052805191012090565b6101486104d4565b6100f1610224366004610a61565b6106c8565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b6100f161025e366004610a9d565b602f6020525f908152604090205481565b61028261027d366004610abd565b610793565b60405190151581526020016100fb565b5f8073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036102e057505060018190555f548161035f565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361032d5750505f819055600154819061035f565b6040517fb49365dd00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f61036a82846107aa565b5f81815260026020526040812054919250036104b257425f61038d600143610b2f565b5f8481526002602090815260409182902092409283905581518082018790528083018490527fffffffffffffffff00000000000000000000000000000000000000000000000060c087901b1660608201528251808203604801815260689091019092528151910120909150610401906107d9565b5f61040a6104cb565b60235463ffffffff165f908152602f602052604080822083905551919250879187917fda61aa7823fcd807e37b95aabcbe17f03a6f3efd514176444dae191d27fd66b391a360235463ffffffff167faf6c6cd7790e0180a4d22eb8ed846e55846f54ed10e5946db19972b5a0813a598284866040516104a693929190928352602083019190915267ffffffffffffffff16604082015260600190565b60405180910390a25050505b50505050565b5f6104c66001545f546107aa565b905090565b5f6104c66108ee565b602e54610100900460ff16158080156104f45750602e54600160ff909116105b8061050e5750303b15801561050e5750602e5460ff166001145b61059e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a6564000000000000000000000000000000000000606482015260840160405180910390fd5b602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016600117905580156105fc57602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b5f6106056104cb565b6023805463ffffffff9081165f908152602f602090815260409182902085905592548151921682529181018390529192507f11f50c71891002839c2637ce302087160298255a87f1ea60d40e8db081383fad910160405180910390a15080156106c557602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50565b5f83815b602081101561078a57600163ffffffff8516821c81169003610737578481602081106106fa576106fa610b42565b60200201358260405160200161071a929190918252602082015260400190565b604051602081830303815290604052805190602001209150610782565b8185826020811061074a5761074a610b42565b6020020135604051602001610769929190918252602082015260400190565b6040516020818303038152906040528051906020012091505b6001016106cc565b50949350505050565b5f816107a08686866106c8565b1495945050505050565b604080516020808201859052818301849052825180830384018152606090920190925280519101205b92915050565b8060016107e860206002610c90565b6107f29190610b2f565b6023541061082c576040517fef5ccf6600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f60235f815461083b90610c9b565b918290555090505f5b60208110156108e0578082901c60011660010361087757826003826020811061086f5761086f610b42565b015550505050565b6003816020811061088a5761088a610b42565b01546040805160208101929092528101849052606001604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081840301815291905280516020909101209250600101610844565b506108e9610cd2565b505050565b6023545f90819081805b60208110156109d6578083901c600116600103610955576003816020811061092257610922610b42565b01546040805160208101929092528101859052606001604051602081830303815290604052805190602001209350610982565b60408051602081018690529081018390526060016040516020818303038152906040528051906020012093505b6040805160208101849052908101839052606001604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152919052805160209091012091506001016108f8565b50919392505050565b5f602082840312156109ef575f5ffd5b5035919050565b5f5f5f60608486031215610a08575f5ffd5b8335925060208401359150604084013567ffffffffffffffff81168114610a2d575f5ffd5b809150509250925092565b8061040081018310156107d3575f5ffd5b803563ffffffff81168114610a5c575f5ffd5b919050565b5f5f5f6104408486031215610a74575f5ffd5b83359250610a858560208601610a38565b9150610a946104208501610a49565b90509250925092565b5f60208284031215610aad575f5ffd5b610ab682610a49565b9392505050565b5f5f5f5f6104608587031215610ad1575f5ffd5b84359350610ae28660208701610a38565b9250610af16104208601610a49565b939692955092936104400135925050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b818103818111156107d3576107d3610b02565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b6001815b6001841115610baa57808504811115610b8e57610b8e610b02565b6001841615610b9c57908102905b60019390931c928002610b73565b935093915050565b5f82610bc0575060016107d3565b81610bcc57505f6107d3565b8160018114610be25760028114610bec57610c08565b60019150506107d3565b60ff841115610bfd57610bfd610b02565b50506001821b6107d3565b5060208310610133831016604e8410600b8410161715610c2b575081810a6107d3565b610c567fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484610b6f565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115610c8857610c88610b02565b029392505050565b5f610ab68383610bb2565b5f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610ccb57610ccb610b02565b5060010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52600160045260245ffdfea2646970667358221220944d827626a73107404878951e7450e93fa726edcb34f842d493880365161d0764736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b50600436106100e5575f3560e01c80635ca1e1651161008857806383f244031161006357806383f2440314610216578063a3c573eb14610229578063ef4eeb3514610250578063fb5708341461026f575f5ffd5b80635ca1e1651461019e5780635d810501146101a65780638129fc1c1461020e575f5ffd5b8063319cf735116100c3578063319cf7351461012c57806333d6247d146101355780633ed691ef1461014a57806349b7b80214610152575f5ffd5b806301fd9044146100e9578063257b3632146101045780632dfdf0b514610123575b5f5ffd5b6100f15f5481565b6040519081526020015b60405180910390f35b6100f16101123660046109df565b60026020525f908152604090205481565b6100f160235481565b6100f160015481565b6101486101433660046109df565b610292565b005b6100f16104b8565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100fb565b6100f16104cb565b6100f16101b43660046109f6565b604080516020808201959095528082019390935260c09190911b7fffffffffffffffff0000000000000000000000000000000000000000000000001660608301528051604881840301815260689092019052805191012090565b6101486104d4565b6100f1610224366004610a61565b6106c8565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b6100f161025e366004610a9d565b602f6020525f908152604090205481565b61028261027d366004610abd565b610793565b60405190151581526020016100fb565b5f8073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036102e057505060018190555f548161035f565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016330361032d5750505f819055600154819061035f565b6040517fb49365dd00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f61036a82846107aa565b5f81815260026020526040812054919250036104b257425f61038d600143610b2f565b5f8481526002602090815260409182902092409283905581518082018790528083018490527fffffffffffffffff00000000000000000000000000000000000000000000000060c087901b1660608201528251808203604801815260689091019092528151910120909150610401906107d9565b5f61040a6104cb565b60235463ffffffff165f908152602f602052604080822083905551919250879187917fda61aa7823fcd807e37b95aabcbe17f03a6f3efd514176444dae191d27fd66b391a360235463ffffffff167faf6c6cd7790e0180a4d22eb8ed846e55846f54ed10e5946db19972b5a0813a598284866040516104a693929190928352602083019190915267ffffffffffffffff16604082015260600190565b60405180910390a25050505b50505050565b5f6104c66001545f546107aa565b905090565b5f6104c66108ee565b602e54610100900460ff16158080156104f45750602e54600160ff909116105b8061050e5750303b15801561050e5750602e5460ff166001145b61059e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a6564000000000000000000000000000000000000606482015260840160405180910390fd5b602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016600117905580156105fc57602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b5f6106056104cb565b6023805463ffffffff9081165f908152602f602090815260409182902085905592548151921682529181018390529192507f11f50c71891002839c2637ce302087160298255a87f1ea60d40e8db081383fad910160405180910390a15080156106c557602e80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50565b5f83815b602081101561078a57600163ffffffff8516821c81169003610737578481602081106106fa576106fa610b42565b60200201358260405160200161071a929190918252602082015260400190565b604051602081830303815290604052805190602001209150610782565b8185826020811061074a5761074a610b42565b6020020135604051602001610769929190918252602082015260400190565b6040516020818303038152906040528051906020012091505b6001016106cc565b50949350505050565b5f816107a08686866106c8565b1495945050505050565b604080516020808201859052818301849052825180830384018152606090920190925280519101205b92915050565b8060016107e860206002610c90565b6107f29190610b2f565b6023541061082c576040517fef5ccf6600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f60235f815461083b90610c9b565b918290555090505f5b60208110156108e0578082901c60011660010361087757826003826020811061086f5761086f610b42565b015550505050565b6003816020811061088a5761088a610b42565b01546040805160208101929092528101849052606001604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081840301815291905280516020909101209250600101610844565b506108e9610cd2565b505050565b6023545f90819081805b60208110156109d6578083901c600116600103610955576003816020811061092257610922610b42565b01546040805160208101929092528101859052606001604051602081830303815290604052805190602001209350610982565b60408051602081018690529081018390526060016040516020818303038152906040528051906020012093505b6040805160208101849052908101839052606001604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152919052805160209091012091506001016108f8565b50919392505050565b5f602082840312156109ef575f5ffd5b5035919050565b5f5f5f60608486031215610a08575f5ffd5b8335925060208401359150604084013567ffffffffffffffff81168114610a2d575f5ffd5b809150509250925092565b8061040081018310156107d3575f5ffd5b803563ffffffff81168114610a5c575f5ffd5b919050565b5f5f5f6104408486031215610a74575f5ffd5b83359250610a858560208601610a38565b9150610a946104208501610a49565b90509250925092565b5f60208284031215610aad575f5ffd5b610ab682610a49565b9392505050565b5f5f5f5f6104608587031215610ad1575f5ffd5b84359350610ae28660208701610a38565b9250610af16104208601610a49565b939692955092936104400135925050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b818103818111156107d3576107d3610b02565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b6001815b6001841115610baa57808504811115610b8e57610b8e610b02565b6001841615610b9c57908102905b60019390931c928002610b73565b935093915050565b5f82610bc0575060016107d3565b81610bcc57505f6107d3565b8160018114610be25760028114610bec57610c08565b60019150506107d3565b60ff841115610bfd57610bfd610b02565b50506001821b6107d3565b5060208310610133831016604e8410600b8410161715610c2b575081810a6107d3565b610c567fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484610b6f565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115610c8857610c88610b02565b029392505050565b5f610ab68383610bb2565b5f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610ccb57610ccb610b02565b5060010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52600160045260245ffdfea2646970667358221220944d827626a73107404878951e7450e93fa726edcb34f842d493880365161d0764736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
